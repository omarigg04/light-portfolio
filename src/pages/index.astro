---
import SocialList from "@/components/SocialList.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import { getAllPosts, sortMDByDate } from "@/data/post";
import PageLayout from "@/layouts/Base.astro";
import NowPlaying from "../../LastPlay.jsx"


const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);

const cactusTech: { desc: string; href: string; title: string }[] = [
	{
		desc: "Build large-scalable and powerful websites, faster.",
		href: "https://angular.dev/",
		title: "Angular",
	},
	{
		desc: "Material Design components for Angular.",
		href: "https://material.angular.io/",
		title: "Angular Material",
	},
	{
		desc: "Powerful, extensible, and feature-packed frontend toolkit.",
		href: "https://getbootstrap.com/",
		title: "Bootstrap",
	},
	{
		desc: "Main three technologies for web development.",
		href: "https://developer.mozilla.org/es/docs/Web/HTML",
		title: "HTML / CSS / JS",
	},
	{
		desc: "TypeScript: Enhanced tooling for scalable JavaScript development.",
		href: "https://www.typescriptlang.org/",
		title: "Typescript",
	},
	{
		desc: "Build faster dinamic and statics websites.",
		href: "https://astro.build",
		title: "Astro",
	},
];
---

<PageLayout meta={{ title: "Home" }}>
	<section>
		<!-- <Summary /> -->

		<NowPlaying />
		<h1 class="title mb-6">Software Enginer / Music Producer</h1>
		<p class="mb-4">
			I'm an Electronics engineer with deep interest on the music, my focus is to bring new approaches 
			to improve the creative thinking, our workflow and explore new ways to experience art.
			Right now im designing and implementing user friendly responsive and highly performant web 
			applications using Angular and other web framworks. 
		</p>
		<SocialList />
	</section>
	<section class="mt-16">
		<h2 class="title mb-4 text-xl">Technologies</h2>
		<dl class="space-y-4">
			{
				cactusTech.map(({ desc, href, title }) => (
					<div class="flex flex-col gap-2 sm:flex-row">
						<dt>
							<span class="flex">
								<a class="cactus-link" href={href} rel="noopener noreferrer" target="_blank">
									{title}
								</a>
								:
							</span>
						</dt>
						<dd>{desc}</dd>
					</div>
				))
			}
		</dl>
	</section>
	<section aria-label="Blog post list" class="mt-16">
		<h2 class="title mb-4 text-xl">Posts</h2>
		<ul class="space-y-4">
			{
				allPostsByDate.map((p) => (
					<li class="grid gap-2 sm:grid-cols-[auto_1fr] sm:[&_q]:col-start-2">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>

</PageLayout>
